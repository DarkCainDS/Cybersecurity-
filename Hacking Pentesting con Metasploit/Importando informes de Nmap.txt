Importando informes de Nmap
Nmap es especializado en escanear puertos, ips, sistemas operativos, versiones de sistema, entre otros; por lo cual, es mucho más rápido, menos ruidoso y eficaz que cualquier módulo de metasploit.
No obstante, podemos utilizar los resultados arrojados por nmap para que sirvan de input a un módulo específico que nos lo permita.
Primero debemos hacer el escaneo con nmap, utilizando la bandera -oX que nos permite añadir una ruta en la cual se guardará nuestro archivo

nmap -A -T4 -Pn -script=vuln -oX /home/kali/output.xml 192.168.1.1/24
Luego, en metasploit, escribimos el comando:


db_import <Ruta_Del_Archivo>
Una vez importado el archivo, podemos hacer uso de diferentes comandos para acceder a información interesante: host, services, vulns, loot, etc. También podemos restringir la búsqueda añadiendo la ip específica luego del comando elegido, ejemplo:


services <Ip_Route>
  services 192.168.1.20
------------------------------------------------------------
https://nmap.org/man/es/man-port-scanning-techniques.html
----------------------------------------------------------

Para importar informes de Nmap en Metasploit, siga estos pasos:

Ejecute Nmap con la opción -oX para generar un archivo XML: nmap -oX <output_file>.xml <target>.

Abra una terminal o consola de Metasploit.

Ejecute el comando db_import <output_file>.xml para importar el informe generado por Nmap.

Una vez importado, puede verificar la base de datos de Metasploit con el comando hosts y ver todos los host que fueron escaneados.

Ahora puede usar Metasploit para seleccionar objetivos y ejecutar exploits y payloads.

Nota: Asegúrese de tener acceso a la base de datos en Metasploit antes de importar informes de Nmap.